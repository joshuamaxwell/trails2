function populateStream(a){for(i=0;a>i;i++){randomUser=_.sample(userArray);var b=new Tweet(randomUser);b.msg=_.sample(messages),b.location=_.sample(locations),tweetArray.push(b),$(".tweets > .panel-body").prepend(postTemplate(b)),++randomUser.numTweets}}function setCurrentUser(a){return currentUser=a,$(".posts > .num").text(a.numTweets),$(".following > .num").text(a.following.length),$(".trails > .num").text(a.trails.length),$(".profile-avatar img").attr("src",a.avatar),$(".profile-name").text(a.name),$(".profile-location").text(a.location),$(".sharelocation").val(a.location),$(".profile-chooser > .avatar > img").attr("src",a.avatar),$(".profile-chooser > .name").text(a.name),a}function tweetTimeFormat(a){return hours=a.getHours(),10>hours&&(hours="0"+hours),minutes=a.getMinutes(),10>minutes&&(minutes="0"+minutes),hours+":"+minutes}function registerNewUser(a){newUser=new UserProfile(a),userArray.push(newUser),$(".profile-chooser-rows").append(userRowTemplate(newUser))}var favoriteFalse="images/fire.svg",favoriteTrue="images/firegold.svg",users=[{name:"Billy Joe",location:"Table Top Rock",avatar:"http://www.lorempixel.com/150/150/people/3"},{name:"Sally Milly",location:"Bald Face Pointe",avatar:"http://www.lorempixel.com/150/150/people/4"},{name:"Mindy Mills",location:"Cresent Head Bluff",avatar:"http://www.lorempixel.com/150/150/people/5"},{name:"Jilly Blithe",location:"Crappy Creek",avatar:"http://www.lorempixel.com/150/150/people/6"},{name:"Art Toms",location:"Pointy Bald Table Bluff",avatar:"http://www.lorempixel.com/150/150/people/7"}],locations=["Table Top Rock","Bald Face Pointe","Cresent Head Bluff","Crappy Creek","Pointy Bald Table Bluff"],messages=["What a beautiful view up here!","[selfie!]","We can't wait to visit this place again","I def give this place 8 thumbs up","Hey! Why aren't you here with me!?","I'm never coming back here again in my life ever","Smores! #BFFL","Please help, I've been treed by a bear."],UserProfile=function(a){this.userID=_.uniqueId("user"),this.name=a.name,this.location=a.location,this.avatar=a.avatar,this.numTweets=0,this.following=[],this.trails=[]};userArray=[];var Tweet=function(a){this.tweetID=_.uniqueId("tweet"),this.name=a.name,this.userID=a.userID,this.location=$(".share-location").val(),this.msg=$(".share-text").val(),this.avatar=a.avatar,this.isFavorite=favoriteFalse,this.date=new Date,this.time=tweetTimeFormat(this.date)};tweetArray=[];var postTemplate=_.template($(".tweet-template").text()),userRowTemplate=_.template($(".profile-chooser-template").text());_.each(users,function(a){registerNewUser(a)}),_.each(userArray,function(a){a.numTweets=_.random(400);var b=_.sample(locations,_.random(locations.length));_.each(b,function(b){a.trails.push(b)});var c=_.sample(userArray,_.random(userArray.length));_.each(c,function(b){a.following.push(b.userID)})}),populateStream(5);var currentUser=setCurrentUser(_.sample(userArray));$(document).on("click","li.profile-chooser-row",function(){var a=$(this).attr("id");console.log(a);var b=_.find(userArray,function(b){return b.userID==a});setCurrentUser(b)}),$(document).on("click",".sharebutton",function(a){a.preventDefault();var b=new Tweet(currentUser);tweetArray.push(b),$(".tweets > .panel-body").prepend(postTemplate(b)),$(".share-text").val(""),++currentUser.numTweets,$(".posts > .num").text(currentUser.numTweets)}),$(document).on("click",".isFavorite",function(){if(console.log("click"),$(this).attr("src")==favoriteFalse){console.log($(this).attr("src")),$(this).attr("src",favoriteTrue);var a=$(this).parents(".tweet").attr("id");console.log("you clicked: ",a),_.each(tweetArray,function(b){b.tweetID==a&&(b.isFavorite=favoriteTrue)})}else{$(this).attr("src",favoriteFalse),console.log($(this).attr("src"));var a=$(this).parents(".tweet").attr("id");_.each(tweetArray,function(b){b.tweetID==a&&(b.isFavorite=favoriteFalse)})}});